<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>For Wafa</title>
<link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=IM+Fell+English:ital@0;1&family=Raleway:wght@200;300&display=swap" rel="stylesheet"/>
<style>
*,*::before,*::after{margin:0;padding:0;box-sizing:border-box;}
:root{
  --deep:#02040e;
  --gold:#d4a85a;
  --gold2:#f5d980;
  --rose:#c87090;
  --teal:#5ab8d4;
  --violet:#9070d0;
}
html{scroll-behavior:smooth;}
body{
  background:var(--deep);
  color:#e0d8f0;
  font-family:'IM Fell English',serif;
  cursor:none;
  overflow-x:hidden;
}

/* ‚îÄ‚îÄ CURSOR ‚îÄ‚îÄ */
#cur{position:fixed;width:6px;height:6px;background:#fff;border-radius:50%;pointer-events:none;z-index:9999;left:0;top:0;transform:translate(-50%,-50%);mix-blend-mode:exclusion;}
#cur-ring{position:fixed;width:30px;height:30px;border:1px solid rgba(255,255,255,.2);border-radius:50%;pointer-events:none;z-index:9998;left:0;top:0;transform:translate(-50%,-50%);transition:left .09s ease,top .09s ease,transform .3s ease;}
.trail{position:fixed;width:3px;height:3px;border-radius:50%;pointer-events:none;z-index:9990;transform:translate(-50%,-50%);animation:trFade .9s ease forwards;}
@keyframes trFade{0%{opacity:.7;}100%{opacity:0;transform:translate(-50%,-50%) scale(0);}}

/* ‚îÄ‚îÄ CANVAS ‚îÄ‚îÄ */
#universe{position:fixed;inset:0;z-index:0;}

/* ‚îÄ‚îÄ NEBULA ‚îÄ‚îÄ */
.nebula{
  position:fixed;inset:0;z-index:1;pointer-events:none;
  background:
    radial-gradient(ellipse 70% 50% at 15% 25%,rgba(80,30,160,.25) 0%,transparent 65%),
    radial-gradient(ellipse 55% 40% at 85% 70%,rgba(30,90,160,.2) 0%,transparent 65%),
    radial-gradient(ellipse 45% 55% at 60% 5%,rgba(150,30,90,.15) 0%,transparent 65%),
    radial-gradient(ellipse 30% 30% at 35% 90%,rgba(30,110,100,.12) 0%,transparent 60%);
  animation:nebShift 22s ease-in-out infinite alternate;
}
@keyframes nebShift{0%{opacity:.6;}100%{opacity:1;filter:hue-rotate(30deg);}}

#scroll-wrap{position:relative;z-index:10;}

/* ‚ïê‚ïê INTRO ‚ïê‚ïê */
#intro{
  height:100vh;display:flex;flex-direction:column;
  align-items:center;justify-content:center;
  text-align:center;padding:20px;position:relative;overflow:hidden;
}

.eyebrow{
  font-family:'Raleway',sans-serif;font-weight:200;
  font-size:.72rem;letter-spacing:.6em;text-transform:uppercase;
  color:rgba(90,184,212,.7);opacity:0;
  animation:fadeUp 1.2s ease forwards .5s;
  margin-bottom:48px;
}

/* NAME SCENE */
.name-scene{
  position:relative;
  display:flex;align-items:center;justify-content:center;
  opacity:0;animation:nameReveal 2s ease forwards 1s;
}
/* extra glow pulse on the whole scene */
.name-scene::after{
  content:'';position:absolute;inset:-40px;
  background:radial-gradient(ellipse at center,rgba(160,120,255,.18) 0%,transparent 70%);
  animation:scenePulse 4s ease-in-out infinite;
  pointer-events:none;z-index:-1;
}
@keyframes scenePulse{
  0%,100%{opacity:.5;transform:scale(.95);}
  50%{opacity:1;transform:scale(1.05);}
}
@keyframes nameReveal{
  0%{opacity:0;filter:blur(20px);transform:scale(.92);}
  60%{filter:blur(2px);}
  100%{opacity:1;filter:blur(0);transform:scale(1);}
}

/* ‚îÄ‚îÄ NAME LAYERS ‚îÄ‚îÄ */
.n-echo{
  position:absolute;
  font-family:'Great Vibes',cursive;font-weight:400;
  font-size:clamp(6rem,20vw,15rem);letter-spacing:.02em;
  color:transparent;
  -webkit-text-stroke:1px rgba(180,150,255,.15);
  transform:translate(5px,10px) scale(1.03);
  filter:blur(10px);white-space:nowrap;user-select:none;
}
.n-aura{
  position:absolute;
  font-family:'Great Vibes',cursive;font-weight:400;
  font-size:clamp(6rem,20vw,15rem);letter-spacing:.02em;
  color:transparent;
  -webkit-text-stroke:4px rgba(160,120,255,.22);
  filter:blur(28px);white-space:nowrap;user-select:none;
  animation:auraPulse 5s ease-in-out infinite;
}
@keyframes auraPulse{
  0%,100%{filter:blur(22px);opacity:.7;}
  50%{filter:blur(36px);opacity:1;}
}
.n-stroke{
  position:absolute;
  font-family:'Great Vibes',cursive;font-weight:400;
  font-size:clamp(6rem,20vw,15rem);letter-spacing:.02em;
  color:transparent;
  -webkit-text-stroke:1px rgba(230,210,255,.28);
  white-space:nowrap;user-select:none;
}
.n-main{
  position:relative;
  font-family:'Great Vibes',cursive;font-weight:400;
  font-size:clamp(6rem,20vw,15rem);letter-spacing:.02em;white-space:nowrap;
  background:linear-gradient(
    130deg,
    #ffffff 0%,
    #e0d0ff 12%,
    #ffffff 25%,
    #c0d8ff 38%,
    #f0e8ff 52%,
    #ffffff 65%,
    #d8c8ff 78%,
    #eef4ff 90%,
    #ffffff 100%
  );
  background-size:300% 100%;
  -webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;
  animation:shimmer 6s ease-in-out infinite alternate;
  filter:
    drop-shadow(0 0 20px rgba(200,170,255,1))
    drop-shadow(0 0 50px rgba(170,140,255,.75))
    drop-shadow(0 0 100px rgba(140,110,240,.4))
    drop-shadow(0 4px 10px rgba(0,0,0,.95));
}
@keyframes shimmer{
  0%{background-position:0% 50%;}
  100%{background-position:100% 50%;}
}
/* Sweeping light beam */
.n-main::after{
  content:'Wafa';position:absolute;inset:0;
  font-family:'Great Vibes',cursive;font-weight:400;
  font-size:inherit;letter-spacing:.02em;
  background:linear-gradient(
    110deg,
    transparent 0%,transparent 28%,
    rgba(255,255,255,.8) 50%,
    transparent 72%,transparent 100%
  );
  background-size:240% 100%;
  -webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;
  animation:sweep 4.5s ease-in-out infinite;
}
@keyframes sweep{0%{background-position:240% 0;}100%{background-position:-240% 0;}}

.name-rule{
  position:absolute;bottom:-20px;left:50%;transform:translateX(-50%);
  width:55%;height:1px;
  background:linear-gradient(to right,transparent,rgba(180,150,255,.4),rgba(220,200,255,.7),rgba(180,150,255,.4),transparent);
  animation:ruleGlow 4s ease-in-out infinite alternate;
}
@keyframes ruleGlow{0%{opacity:.3;}100%{opacity:.9;}}

.name-star{
  position:absolute;color:rgba(200,180,255,.7);font-size:.55rem;
  animation:floatStar var(--dur) ease-in-out infinite var(--delay) alternate;
  opacity:.7;pointer-events:none;
}
@keyframes floatStar{0%{transform:translate(0,0) scale(.8);opacity:.4;}100%{transform:translate(var(--tx),var(--ty)) scale(1.2);opacity:1;}}

.intro-sub{
  font-family:'Raleway',sans-serif;font-weight:200;
  font-size:.75rem;letter-spacing:.4em;text-transform:uppercase;
  color:rgba(220,200,255,.3);margin-top:42px;opacity:0;
  animation:fadeUp 1.2s ease forwards 2.2s;
}
.scroll-cue{
  position:absolute;bottom:38px;display:flex;flex-direction:column;align-items:center;gap:10px;
  opacity:0;animation:fadeUp 1s ease forwards 3.2s;
}
.scroll-cue span{font-family:'Raleway',sans-serif;font-size:.6rem;letter-spacing:.42em;text-transform:uppercase;color:rgba(255,255,255,.18);}
.scroll-line{width:1px;height:50px;background:linear-gradient(to bottom,rgba(212,168,90,.5),transparent);animation:linePulse 2.2s ease-in-out infinite;}
@keyframes linePulse{0%,100%{opacity:.3;}50%{opacity:1;transform:scaleY(1.1);}}

/* ‚ïê‚ïê POEM ‚ïê‚ïê */
#poem-section{
  min-height:100vh;display:flex;flex-direction:column;
  align-items:center;padding:100px 40px 130px;
}
.poem-container{max-width:580px;width:100%;margin:0 auto;}
.stanza{margin-bottom:64px;text-align:center;}

.verse{
  display:block;font-family:'IM Fell English',serif;
  font-size:clamp(1.08rem,2.8vw,1.3rem);
  font-style:italic;line-height:2.1;letter-spacing:.025em;
  color:rgba(224,216,240,0);
  transform:translateY(22px);
  transition:color 1.1s ease,transform 1.1s ease;
}
.verse.revealed{color:rgba(224,216,240,.88);transform:translateY(0);}

.keyword{
  color:var(--gold2);cursor:pointer;position:relative;
  text-decoration:none;display:inline-block;
}
.keyword::before{
  content:attr(data-char);
  position:absolute;top:-22px;left:50%;transform:translateX(-50%);
  font-size:.52rem;letter-spacing:.3em;font-style:normal;
  font-family:'Raleway',sans-serif;color:var(--gold);opacity:0;
  transition:opacity .3s .1s,top .3s;white-space:nowrap;
}
.verse.revealed .keyword::before{opacity:.55;top:-24px;}
.keyword::after{
  content:'';position:absolute;bottom:2px;left:0;right:0;height:1px;
  background:linear-gradient(to right,transparent,var(--gold2),transparent);
  transform:scaleX(0);transition:transform .6s ease;
}
.verse.revealed .keyword::after{transform:scaleX(1);}
.verse.revealed .keyword{animation:kGlow 3.5s ease-in-out infinite;}
@keyframes kGlow{
  0%,100%{text-shadow:0 0 12px rgba(245,217,128,.35);}
  50%{text-shadow:0 0 28px rgba(245,217,128,.85),0 0 55px rgba(245,217,128,.2);}
}

/* Secret panel */
.secret-panel{
  display:none;margin:14px auto 0;padding:16px 24px;
  max-width:420px;
  border:1px solid rgba(212,168,90,.25);
  border-top:none;border-left:none;border-right:none;
  border-bottom:1px solid rgba(180,150,255,.25);
  background:linear-gradient(to bottom,rgba(180,150,255,.05),transparent);
  font-style:normal;font-size:.9rem;
  font-family:'Raleway',sans-serif;font-weight:300;
  color:rgba(220,210,245,.65);letter-spacing:.03em;line-height:1.8;
  text-align:center;border-radius:4px;
}
.secret-panel.open{display:block;animation:panelSlide .5s ease;}
@keyframes panelSlide{from{opacity:0;transform:translateX(-12px);}to{opacity:1;transform:none;}}

/* Dividers */
.const-wrap{
  display:flex;align-items:center;gap:14px;
  margin:10px 0 52px;opacity:0;transition:opacity 1.4s ease;
}
.const-wrap.revealed{opacity:1;}
.c-line{flex:1;height:1px;background:linear-gradient(to right,transparent,rgba(140,100,220,.3),transparent);}
.c-star{color:var(--violet);font-size:.65rem;animation:blink 2s ease-in-out infinite;}
@keyframes blink{0%,100%{opacity:1;transform:scale(1);}50%{opacity:.2;transform:scale(.6);}}

/* ‚îÄ‚îÄ FINAL ‚îÄ‚îÄ */
#final{
  min-height:75vh;display:flex;flex-direction:column;
  align-items:center;justify-content:center;
  text-align:center;padding:60px 24px;
}
.final-eyebrow{
  font-family:'Raleway',sans-serif;font-weight:200;
  font-size:.68rem;letter-spacing:.45em;text-transform:uppercase;
  color:var(--rose);opacity:0;margin-bottom:24px;transition:opacity 1.2s ease;
}
.final-eyebrow.revealed{opacity:.75;}
.final-quote{
  font-family:'IM Fell English',serif;font-style:italic;
  font-size:clamp(1.3rem,4.5vw,2rem);line-height:1.85;max-width:500px;
  color:rgba(224,216,240,0);transition:color 1.6s ease;letter-spacing:.02em;
}
.final-quote.revealed{color:rgba(224,216,240,.85);}
.final-sig{
  margin-top:44px;display:flex;flex-direction:column;align-items:center;gap:6px;
  opacity:0;transition:opacity 1.4s ease .8s;
}
.final-sig.revealed{opacity:1;}
.sig-line{width:40px;height:1px;background:linear-gradient(to right,transparent,rgba(180,150,255,.5),transparent);margin-bottom:6px;}
.sig-name{
  font-family:'Great Vibes',cursive;font-weight:400;
  font-size:2.8rem;letter-spacing:.04em;
  background:linear-gradient(135deg,#d8c8ff,#ffffff,#b0ccff,#e8d8ff);
  -webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;
  filter:drop-shadow(0 0 16px rgba(180,150,255,.7));
}
.sig-sub{
  font-family:'Raleway',sans-serif;font-weight:200;
  font-size:.62rem;letter-spacing:.4em;text-transform:uppercase;
  color:rgba(255,255,255,.15);margin-top:4px;
}

#moon-btn{
  margin-top:52px;width:60px;height:60px;border-radius:50%;
  border:1px solid rgba(212,168,90,.3);background:rgba(212,168,90,.05);
  color:var(--gold);font-size:1.5rem;cursor:pointer;
  display:flex;align-items:center;justify-content:center;
  opacity:0;transition:opacity 1.2s ease 1.2s,transform .4s ease,box-shadow .4s ease;
  position:relative;
}
#moon-btn.revealed{opacity:1;}
#moon-btn::before{
  content:'a secret';position:absolute;top:-24px;left:50%;transform:translateX(-50%);
  font-family:'Raleway',sans-serif;font-size:.58rem;letter-spacing:.28em;
  color:rgba(255,255,255,.18);white-space:nowrap;
}
#moon-btn:hover{transform:scale(1.15) rotate(20deg);box-shadow:0 0 50px rgba(212,168,90,.45);background:rgba(212,168,90,.15);}

.hint{
  font-family:'Raleway',sans-serif;font-weight:200;font-size:.62rem;letter-spacing:.38em;
  text-transform:uppercase;color:rgba(212,168,90,.22);margin-top:60px;text-align:center;
  opacity:0;transition:opacity 1.2s ease .5s;
}
.hint.revealed{opacity:1;}

/* ‚îÄ‚îÄ PARTICLES ‚îÄ‚îÄ */
.particle{position:fixed;pointer-events:none;z-index:9995;animation:pFly var(--dur) var(--ease) forwards;font-size:var(--sz);}
@keyframes pFly{
  0%{opacity:1;transform:translate(0,0) scale(1) rotate(0deg);}
  100%{opacity:0;transform:translate(var(--tx),var(--ty)) scale(0) rotate(var(--rot));}
}

@keyframes fadeUp{from{opacity:0;transform:translateY(18px);}to{opacity:1;transform:translateY(0);}}
</style>
</head>
<body>

<div id="cur"></div>
<div id="cur-ring"></div>
<canvas id="universe"></canvas>
<div class="nebula"></div>

<div id="scroll-wrap">

  <!-- ‚ïê‚ïê INTRO ‚ïê‚ïê -->
  <section id="intro">
    <p class="eyebrow">a moment in the cosmos</p>

    <div class="name-scene">
      <div class="n-echo" aria-hidden="true">Wafa</div>
      <div class="n-aura" aria-hidden="true">Wafa</div>
      <div class="n-stroke" aria-hidden="true">Wafa</div>
      <div class="n-main">Wafa</div>
      <div class="name-rule"></div>
      <span class="name-star" style="left:-8%;top:10%;--dur:3.2s;--delay:0s;--tx:6px;--ty:-12px">‚ú¶</span>
      <span class="name-star" style="left:105%;top:20%;--dur:2.8s;--delay:.5s;--tx:-8px;--ty:-10px">‚ú¶</span>
      <span class="name-star" style="left:0%;top:80%;--dur:3.6s;--delay:.2s;--tx:4px;--ty:8px">‚úß</span>
      <span class="name-star" style="left:102%;top:75%;--dur:2.5s;--delay:.8s;--tx:-6px;--ty:10px">‚úß</span>
      <span class="name-star" style="left:48%;top:-30%;--dur:4s;--delay:.3s;--tx:-4px;--ty:6px;font-size:.4rem">‚ãÜ</span>
      <span class="name-star" style="left:30%;top:120%;--dur:3.1s;--delay:.6s;--tx:3px;--ty:-8px;font-size:.4rem">‚ãÜ</span>
    </div>

    <p class="intro-sub">scroll through the stars</p>

    <div class="scroll-cue">
      <span>begin</span>
      <div class="scroll-line"></div>
    </div>
  </section>

  <!-- ‚ïê‚ïê POEM ‚ïê‚ïê -->
  <section id="poem-section">
    <div class="poem-container">

      <!-- Stanza 1 ‚Äî Distance -->
      <div class="stanza">
        <span class="verse" data-delay="0">There are people the universe places</span>
        <span class="verse" data-delay="200">on the wrong side of <span class="keyword" data-char="‚ú¶ tap" data-secret="Distance has a cruel kind of irony ‚Äî it makes you more certain of what matters, and completely powerless to reach it.">distance</span>,</span>
        <span class="verse" data-delay="400">close enough to feel,</span>
        <span class="verse" data-delay="600">too far to hold.</span>
        <span class="verse" data-delay="800">And still ‚Äî the stars know no borders.</span>
      </div>

      <div class="const-wrap">
        <div class="c-line"></div>
        <span class="c-star">‚ú¶</span>
        <span class="c-star" style="animation-delay:.35s">‚ú¶</span>
        <span class="c-star" style="animation-delay:.7s">‚ú¶</span>
        <div class="c-line"></div>
      </div>

      <!-- Stanza 2 ‚Äî Eyes -->
      <div class="stanza">
        <span class="verse" data-delay="0">There are <span class="keyword" data-char="‚ú¶ tap" data-secret="She bound me with no chains ‚Äî but I am a prisoner of her eyes.">eyes</span> that carry whole universes,</span>
        <span class="verse" data-delay="200">constellations mapped in irises,</span>
        <span class="verse" data-delay="400">the kind that hold you still</span>
        <span class="verse" data-delay="600">long after you've looked away.</span>
      </div>

      <div class="const-wrap">
        <div class="c-line"></div>
        <span class="c-star">‚ú¶</span>
        <span class="c-star" style="animation-delay:.4s">‚ú¶</span>
        <span class="c-star" style="animation-delay:.8s">‚ú¶</span>
        <div class="c-line"></div>
      </div>

      <!-- Stanza 3 ‚Äî Special from day one -->
      <div class="stanza">
        <span class="verse" data-delay="0">She was <span class="keyword" data-char="‚ú¶ tap" data-secret="From the very first moment ‚Äî something shifted. Not loudly. Not with any warning. Just a quiet knowing that this one is different.">different</span> from the very first moment,</span>
        <span class="verse" data-delay="200">though no one could say exactly how.</span>
        <span class="verse" data-delay="400">Some things refuse to be explained ‚Äî</span>
        <span class="verse" data-delay="600">they simply settle in the chest</span>
        <span class="verse" data-delay="800">and stay.</span>
      </div>

      <div class="const-wrap">
        <div class="c-line"></div>
        <span class="c-star">‚ú¶</span>
        <span class="c-star" style="animation-delay:.25s">‚ú¶</span>
        <span class="c-star" style="animation-delay:.5s">‚ú¶</span>
        <div class="c-line"></div>
      </div>

      <!-- Stanza 4 ‚Äî Subtle hint -->
      <div class="stanza">
        <span class="verse" data-delay="0">I'm not saying the stars rearranged themselves.</span>
        <span class="verse" data-delay="220">I'm not saying anything, really.</span>
        <span class="verse" data-delay="440">Only that some things are hard to <span class="keyword" data-char="‚ú¶ tap" data-secret="Some observations are easier left between the lines. Consider this a poem with something hidden in it ‚Äî and you, the only one who knows where to look.">unnotice</span>.</span>
      </div>

      <div class="hint">‚ú¶ the glowing words hold secrets</div>

    </div>
  </section>

  <!-- ‚ïê‚ïê FINAL ‚ïê‚ïê -->
  <section id="final">
    <p class="final-eyebrow">and so ‚Äî</p>
    <p class="final-quote">
      Whatever universe arranged<br/>
      for you to exist in it<br/>
      exactly like this ‚Äî<br/>
      it did well.
    </p>
    <div class="final-sig">
      <div class="sig-line"></div>
      <div class="sig-name">Zubair</div>
      <div class="sig-sub">from somewhere far, but certain</div>
    </div>
    <button id="moon-btn">üåô</button>
  </section>

</div>

<script>
/* ‚ïê‚ïê STARFIELD ‚ïê‚ïê */
const cv=document.getElementById('universe'),ctx=cv.getContext('2d');
let W,H,stars=[],shooters=[],stT=0;
function resize(){W=cv.width=innerWidth;H=cv.height=innerHeight;}
resize();window.addEventListener('resize',resize);
const sc=['rgba(255,255,255,','rgba(190,210,255,','rgba(255,215,190,','rgba(200,185,255,','rgba(180,240,230,'];
function mkStar(){return{x:Math.random()*W,y:Math.random()*H,r:Math.random()*1.5+.15,a:Math.random(),da:(Math.random()-.5)*.006,c:sc[Math.floor(Math.random()*sc.length)]};}
function mkShoot(){const a=Math.PI/7+Math.random()*Math.PI/5;return{x:Math.random()*W*.85,y:Math.random()*H*.35,len:100+Math.random()*160,spd:11+Math.random()*9,a,alpha:1,prog:0};}
for(let i=0;i<300;i++)stars.push(mkStar());

function frame(){
  ctx.clearRect(0,0,W,H);
  stars.forEach(s=>{
    s.a+=s.da;
    if(s.a<=0){s.da*=-1;s.a=0;}
    if(s.a>=1){s.da*=-1;s.a=1;}
    ctx.beginPath();ctx.arc(s.x,s.y,s.r,0,Math.PI*2);
    ctx.fillStyle=s.c+s.a+')';ctx.fill();
  });
  stT++;
  if(stT>160+Math.random()*280){shooters.push(mkShoot());stT=0;}
  shooters=shooters.filter(s=>s.alpha>0);
  shooters.forEach(s=>{
    s.prog+=s.spd;
    const tx=s.x+Math.cos(s.a)*s.prog,ty=s.y+Math.sin(s.a)*s.prog;
    const g=ctx.createLinearGradient(tx,ty,tx-Math.cos(s.a)*s.len,ty-Math.sin(s.a)*s.len);
    g.addColorStop(0,`rgba(255,250,230,${s.alpha})`);
    g.addColorStop(1,'rgba(255,250,230,0)');
    ctx.beginPath();ctx.moveTo(tx,ty);
    ctx.lineTo(tx-Math.cos(s.a)*s.len,ty-Math.sin(s.a)*s.len);
    ctx.strokeStyle=g;ctx.lineWidth=1.4;ctx.stroke();
    s.alpha-=.014;if(s.prog>W*1.2)s.alpha=0;
  });
  requestAnimationFrame(frame);
}
frame();

/* ‚ïê‚ïê CURSOR ‚ïê‚ïê */
const cur=document.getElementById('cur'),ring=document.getElementById('cur-ring');
let rx=0,ry=0,cx2=0,cy2=0;
document.addEventListener('mousemove',e=>{
  cx2=e.clientX;cy2=e.clientY;
  cur.style.left=cx2+'px';cur.style.top=cy2+'px';
  const t=document.createElement('div');
  t.className='trail';
  t.style.cssText=`left:${cx2}px;top:${cy2}px;background:hsl(${180+Math.random()*120},70%,75%)`;
  document.body.appendChild(t);setTimeout(()=>t.remove(),950);
});
function moveRing(){rx+=(cx2-rx)*.1;ry+=(cy2-ry)*.1;ring.style.left=rx+'px';ring.style.top=ry+'px';requestAnimationFrame(moveRing);}
moveRing();
document.addEventListener('mousedown',()=>ring.style.transform='translate(-50%,-50%) scale(.7)');
document.addEventListener('mouseup',()=>ring.style.transform='translate(-50%,-50%) scale(1)');

/* ‚ïê‚ïê SCROLL REVEAL ‚ïê‚ïê */
const io=new IntersectionObserver(entries=>{
  entries.forEach(en=>{
    if(!en.isIntersecting)return;
    const el=en.target;
    if(el.classList.contains('stanza')){
      el.querySelectorAll('.verse').forEach(v=>setTimeout(()=>v.classList.add('revealed'),parseInt(v.dataset.delay)||0));
    } else el.classList.add('revealed');
    io.unobserve(el);
  });
},{threshold:.18});
document.querySelectorAll('.stanza,.const-wrap,.hint,.final-eyebrow,.final-quote,.final-sig,#moon-btn').forEach(el=>io.observe(el));

/* ‚ïê‚ïê KEYWORDS ‚ïê‚ïê */
document.querySelectorAll('.keyword').forEach(kw=>{
  kw.addEventListener('click',e=>{
    e.stopPropagation();
    let p=kw.closest('.verse').nextElementSibling;
    if(p&&p.classList.contains('secret-panel')){p.classList.toggle('open');return;}
    p=document.createElement('div');
    p.className='secret-panel open';
    p.textContent=kw.dataset.secret;
    kw.closest('.verse').after(p);
    sparkle(e.clientX,e.clientY);
  });
});

function sparkle(x,y){
  const s=['‚ú¶','‚úß','‚ãÜ','¬∑','‚ó¶','‚àó'];
  for(let i=0;i<22;i++){
    const p=document.createElement('div');p.className='particle';
    p.textContent=s[Math.floor(Math.random()*s.length)];
    const a=Math.random()*Math.PI*2,d=50+Math.random()*110;
    p.style.cssText=`left:${x}px;top:${y}px;--tx:${Math.cos(a)*d}px;--ty:${Math.sin(a)*d}px;--dur:${.5+Math.random()*.8}s;--ease:cubic-bezier(.2,.8,.4,1);--sz:${.65+Math.random()*.75}rem;--rot:${(Math.random()-.5)*360}deg;color:hsl(${38+Math.random()*30},75%,${68+Math.random()*12}%);`;
    document.body.appendChild(p);setTimeout(()=>p.remove(),1100);
  }
}

/* ‚ïê‚ïê MOON ‚ïê‚ïê */
document.getElementById('moon-btn').addEventListener('click',e=>{
  const btn=e.currentTarget,r=btn.getBoundingClientRect();
  const cx3=r.left+r.width/2,cy3=r.top+r.height/2;
  const w=['Wafa','‚ú¶','Zubair','‚≠ê','üí´','üåô','‚ãÜ','‚ú¶','¬∑','‚àó','üåü','from far'];
  const cols=['#d4a85a','#f0d080','#c090c8','#80c0d8','#f5d980','#b890e0'];
  for(let i=0;i<42;i++){
    const p=document.createElement('div');p.className='particle';
    p.textContent=i<w.length?w[i]:['‚ú¶','‚ãÜ','¬∑','‚úß','‚àó'][Math.floor(Math.random()*5)];
    const a=Math.random()*Math.PI*2,d=60+Math.random()*260;
    p.style.cssText=`left:${cx3}px;top:${cy3}px;--tx:${Math.cos(a)*d}px;--ty:${Math.sin(a)*d}px;--dur:${.9+Math.random()*1.3}s;--ease:cubic-bezier(.1,.8,.3,1);--sz:${i<w.length?'1rem':(.7+Math.random()*.9)+'rem'};--rot:${(Math.random()-.5)*540}deg;color:${cols[Math.floor(Math.random()*cols.length)]};font-family:'IM Fell English',serif;font-style:italic;`;
    document.body.appendChild(p);setTimeout(()=>p.remove(),1600);
  }
  btn.animate([
    {transform:'scale(1) rotate(0deg)'},
    {transform:'scale(1.35) rotate(180deg)',offset:.4},
    {transform:'scale(1) rotate(360deg)'}
  ],{duration:700,easing:'cubic-bezier(.34,1.56,.64,1)'});
});
</script>
<script>
  window.si = window.si || function () { (window.siq = window.siq || []).push(arguments); };
</script>
<script defer src="/_vercel/speed-insights/script.js"></script>
</body>
</html>
